<div *ngIf="loading" class="content-load">
    <br>
    <mat-spinner class="child-load"></mat-spinner>
    <br>
    <mat-label class="child-load"><strong>Cargando... </strong></mat-label>
</div>
<div [formGroup]="regSolicitud">
    <div class="pipeline white lined-primary">
        <div class="pipeline-header">
            <h6 class="pipeline-name">
                Consulta Implicado en BT y NURIA
            </h6> 
            <div style="color: whitesmoke;" class="pipeline-settings os-dropdown-trigger">
                <button style="background-color:chocolate; color: aliceblue;" mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <button style="background-color: chocolate; color: aliceblue;" mat-menu-item (click)="openDialogEditar()">
                    <mat-icon style="background-color: chocolate; color: aliceblue;">search</mat-icon>
                    <span>Buscar</span>
                    </button>
                    <button style="background-color: chocolate; color: aliceblue;" mat-menu-item>
                        <mat-icon style="background-color: chocolate; color: aliceblue;">refresh</mat-icon>
                        <span>Actualizar</span>
                    </button>
                    <button style="background-color: chocolate; color: aliceblue;" mat-menu-item>
                        <mat-icon style="background-color: chocolate; color: aliceblue;">saved</mat-icon>
                        <span>Aceptar</span>
                    </button>
                    <button style="background-color: chocolate; color: aliceblue;" mat-menu-item>
                        <mat-icon style="background-color: chocolate; color: aliceblue;">highlight_off</mat-icon>
                        <span>Salir</span>
                    </button>
                </mat-menu>
            </div>
        </div>

        <div class="example-container2 mat-elevation-z8" *ngIf="this.activa" style="width: 100%;" >
            <table width=100% height=100% style="border-width: 0.1px; padding: 0.2px; border-style:dotted;
            border-color:cadetblue;">
                <tr class="encabezado" colspan="3" style="height:32 px;">
                    <th colspan="3">BUSQUEDA DEL IMPLICADO POR APROXIMACION</th>                            
                </tr>
                <tr>
                    <td><mat-form-field style="font-size: xx-small; width: 100%;">
                        <input formControlName="apellidopaternoInput" matInput #inputapenom maxlength="200"
                        placeholder="Apellido Paterno">
                        </mat-form-field>
                    </td>
                    <td><mat-form-field style="font-size: xx-small; width: 100%;">
                        <input formControlName="apellidomaternoInput" matInput #inputapenom maxlength="200"
                        placeholder="Apellido Materno">
                        </mat-form-field></td>
                    <td><mat-form-field style="font-size: xx-small; width: 100%;">
                        <input formControlName="nombresInput" matInput #inputapenom maxlength="200"
                        placeholder="Nombres">
                        </mat-form-field></td>
                </tr>
               <!-- 
                <tr>
                    <td><div >
                        <mat-form-field style="font-size: xx-small; width: 100%;">
                            <mat-select formControlName="tipodocumento" placeholder="Tipo de Documento"
                                [compareWith]="compareItems" [(ngModel)]="tipodocumento">
                                <mat-option *ngFor="let tipodocumentolet of tipodocumentolista" [value]="tipodocumentolet">
                                    {{tipodocumentolet}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div></td>
                    <td>  <div >                
                        <mat-form-field style="font-size: xx-small;">
                        <input class="numerodocumentoinput" matInput #inputHoras type="text" placeholder="Numerico de Documento">
                        </mat-form-field>                
                    </div></td>
                    <td></td>
                </tr> 
                
            -->
            </table>                                    
        </div>
        <br>
        <div class="example-container1 mat-elevation-z8" style="width: 100%;" >        
            <table style="border-width: 0.1px; padding: 0.2px; border-style:dotted;
            border-color:cadetblue;" matSort (matSortChange)="sortData($event)" bordered="true" width=100%>
                <tr class="encabezado">
                <th mat-sort-header="pais">PAIS</th>
                <th mat-sort-header="tipodocumento">TIPO DE DOCUMENTO</th>
                <th mat-sort-header="numerodocumento">NUMERO DOCUMENTO</th>
                <th mat-sort-header="apellidosnombres">APELLIDOS Y NOMBRES</th>
                <th mat-sort-header="origenbusqueda">ORIGEN DE BUSQUEDA</th>
                <th mat-sort-header="acc">ACCION</th>
                </tr>
            
                <tr *ngFor="let dessert of sortedData" class="detalle">
                <td class="pointer" style="text-align: center;">{{dessert.pais}}</td>
                <td>{{dessert.tipodocumento}}</td>
                <td>{{dessert.numerodocumento}}</td>
                <td>{{dessert.apellidosnombres}}</td>
                <td>{{dessert.origenbusqueda}}</td>
                <td align="center">
                    <mat-icon matTooltip="Consultar Productos" class="pointer" style="color: #3f51b5;" (click)="openDialogProductos()">edit</mat-icon>                
                </tr>
            </table>
        </div>
        <br>       
        <div class="example-container2 mat-elevation-z8" *ngIf="this.activa" style="width: 100%;" >
            <table width=100% height=100% style="border-width: 0.1px; padding: 0.2px; border-style:dotted;
            border-color:cadetblue;">
                <tr class="encabezado" colspan="3" style="height:32 px;">
                    <th colspan="3">PRODUCTOS DEL IMPLICADO</th>                            
                </tr>
                <tr>
                    <td>
                        <div class="example-container1 mat-elevation-z8" style="width: 100%;" >        
                            <table style="border-width: 0.1px; padding: 0.2px; border-style:dotted;
                            border-color:cadetblue;" matSort (matSortChange)="sortDatac($event)" bordered="true" width=100%>
                                <tr class="encabezado">
                                <th mat-sort-header="cuenta">CUENTA</th>
                                <th mat-sort-header="tipoproducto">TIPO PRODUCTO</th>
                                <th mat-sort-header="fechaalta">FECHA ALTA</th>
                                <th mat-sort-header="fechaultestado">FECHA ULT ESTADO</th>
                                <th mat-sort-header="estado">ESTADO</th>
                                <th mat-sort-header="acc">ACCION</th>
                                </tr>
                            
                                <tr *ngFor="let dessertc of sortedDatac" class="detalle">
                                <td class="pointer" style="text-align: center;">{{dessertc.cuenta}}</td>
                                <td>{{dessertc.tipoproducto}}</td>
                                <td>{{dessertc.fechaalta}}</td>
                                <td>{{dessertc.fechaultestado}}</td>
                                <td>{{dessertc.estado}}</td>
                                <td align="center">
                                    <mat-checkbox  style="font-size: xx-small;color: darkred;font-weight: bold;" class="example-margin" color="warn" [(ngModel)]="existeimplicado"></mat-checkbox>      
                                </tr>
                            </table>
                        </div>

                    </td>
                </tr>                                                 
            </table>                                    
        </div>
    </div>
</div>





    